local WindUI = loadstring(game:HttpGet(
    "https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"
))()

local Window = WindUI:CreateWindow({
    Title  = "Vitex Hub",
    Icon   = "aperture",
    Author = "by Vitex",
    Theme  = "Violet",
    Acrylic = true,
})

Window:Tag({
    Title = "v1.kir.0",
    Icon = "history",
    Color = Color3.fromHex("#5f0188"),
    Radius = 0,
})

local Practical = Window:Tab({
    Title = "کاربردی",
    Icon = "flame",
})
Practical:Select()

local WalkSpeed = Practical:Slider({
    Title = "سرعت راه‌رفتن",
    Value = {
        Min = 50,
        Max = 500,
        Default = 50
    },
    Callback = function(value)
        local realValue = value / 50
        game.Players.LocalPlayer.Character:SetAttribute("SpeedMultiplier", realValue)
    end
})

local Jump = Practical:Slider({
    Title = "قدرت پرش",
    Value = {
        Min = 50,
        Max = 500,
        Default = 50
    },
    Callback = function(value)
        game.Players.LocalPlayer.Character.Humanoid.JumpPower = value
    end
})



local TeleportTab = Window:Tab({
    Title = "تلپورت",
    Icon = "map-pin",
})

local TeleportSection = TeleportTab:Section({ Title = "مکان‌ها" })

local locations = {
    { name = "Pirate Island",  cframe = CFrame.new(1041.88, 16.27, 1424.93) },
    { name = "Marine Island",  cframe = CFrame.new(-2896.68, 41.48, 2009.27) },
    { name = "Colosseum",      cframe = CFrame.new(-1541.08, 7.38, -2987.40) },
    { name = "Desert",         cframe = CFrame.new(1094.32, 6.56, 4231.63) },
    { name = "Fountain City",  cframe = CFrame.new(5529.72, 429.35, 4245.54) },
    { name = "Jungle",         cframe = CFrame.new(-1615.18, 36.85, 150.80) },
    { name = "Marine Fort",    cframe = CFrame.new(-4846.14, 20.65, 4393.65) },
    { name = "Middle Town",    cframe = CFrame.new(-705.99, 7.85, 1547.52) },
    { name = "Prison",         cframe = CFrame.new(4841.84, 5.65, 741.32) },
    { name = "Pirate Village", cframe = CFrame.new(-1146.42, 4.75, 3818.50) },
    { name = "Sky 1",          cframe = CFrame.new(-4967.83, 717.67, -2623.84) },
    { name = "Sky 2",          cframe = CFrame.new(-7876.07, 5545.58, -381.19) },
    { name = "Snow",           cframe = CFrame.new(1100.36, 5.29, -1151.54) },
    { name = "Under Water",    cframe = CFrame.new(61135.29, 18.47, 1597.68) },
    { name = "Magma Village",  cframe = CFrame.new(-5248.27, 8.69, 8452.89) },
}

local SelectedCFrame = nil
local TPConnection = nil
local player = game.Players.LocalPlayer

-- استخراج اسامی برای Dropdown
local locNames = {}
for _, v in pairs(locations) do table.insert(locNames, v.name) end

-- ۱. انتخاب مقصد
TeleportSection:Dropdown({
    Title = "انتخاب جزیره",
    Values = locNames,
    Callback = function(val)
        for _, v in pairs(locations) do
            if v.name == val then
                SelectedCFrame = v.cframe
                break
            end
        end
    end
})

-- ۲. تاگل اجرا و توقف
TeleportTab:Toggle({
    Title = "شروع جابه‌جایی",
    Value = false,
    Callback = function(state)
        _G.Teleporting = state
        
        if state then
            if not SelectedCFrame then return end
                        local char = player.Character
            local hrp = char:FindFirstChild("HumanoidRootPart")
                        -- جلوگیری از سقوط و لرزش
            local bv = Instance.new("BodyVelocity")
            bv.Velocity = Vector3.new(0,0,0)
            bv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
            bv.Name = "TP_Stabilizer"
            bv.Parent = hrp

            TPConnection = game:GetService("RunService").Heartbeat:Connect(function(dt)
                if not _G.Teleporting or not hrp then
                    if TPConnection then TPConnection:Disconnect() end
                    if bv then bv:Destroy() end
                    return
                end

                -- Noclip فعال در هر فریم
                for _, part in pairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then part.CanCollide = false end
                end

                local dist = (SelectedCFrame.Position - hrp.Position).Magnitude
                if dist > 5 then
                    local speed = 250
                    hrp.CFrame = hrp.CFrame + (SelectedCFrame.Position - hrp.Position).Unit * speed * dt
                else
                    hrp.CFrame = SelectedCFrame
                    _G.Teleporting = false
                    if TPConnection then TPConnection:Disconnect() end
                    if bv then bv:Destroy() end
                end
            end)
        else
            -- توقف آنی
            if TPConnection then TPConnection:Disconnect() end
            if player.Character.HumanoidRootPart:FindFirstChild("TP_Stabilizer") then
                player.Character.HumanoidRootPart.TP_Stabilizer:Destroy()
            end
            for _, part in pairs(player.Character:GetDescendants()) do
                if part:IsA("BasePart") then part.CanCollide = true end
            end
        end
    end
})```


local WaterPart = Instance.new("Part")
WaterPart.Size = Vector3.new(10, 1, 10)
WaterPart.Transparency = 1
WaterPart.Anchored = true
WaterPart.CanCollide = false
WaterPart.Parent = workspace

-- تعریف تابع منطقی به صورت جداگانه برای استفاده مجدد
local function UpdateWaterWalk(value)
    _G.WaterWalk = value
    if value then
        task.spawn(function()
            while _G.WaterWalk do
                local char = game.Players.LocalPlayer.Character
                local hrp = char and char:FindFirstChild("HumanoidRootPart")
                local hum = char and char:FindFirstChild("Humanoid")
                
                if hrp and hum then
                    WaterPart.CanCollide = true
                    -- قرار دادن پارت دقیقاً زیر پای پلیر
                    WaterPart.CFrame = CFrame.new(hrp.Position.X, 0.5, hrp.Position.Z)
                    
                    if hum:GetState() == Enum.HumanoidStateType.Swimming then
                        hum:ChangeState(Enum.HumanoidStateType.Running)
                    end
                end
                task.wait()
            end
            WaterPart.CanCollide = false
        end)
    else
        WaterPart.CanCollide = false
    end
end

local WaterWalk = Practical:Toggle({
    Title = "راه‌رفتن روی آب",
    Value = true,
    Callback = UpdateWaterWalk
})

-- اجرای دستی در لحظه لود شدن اسکریپت
if WaterWalk.Value then
    UpdateWaterWalk(true)
end
