local WindUI = loadstring(game:HttpGet(
    "https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"
))()

local Window = WindUI:CreateWindow({
    Title  = "Vitex Hub",
    Icon   = "aperture",
    Author = "by Vitex",
    Theme  = "Violet",
    Acrylic = true,
})

Window:Tag({
    Title = "Beta-kooon",
    Icon = "history",
    Color = Color3.fromHex("#5f0188"),
    Radius = 0,
})

local Practical = Window:Tab({
    Title = "Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ",
    Icon = "flame",
})
Practical:Select()

local WalkSpeed = Practical:Slider({
    Title = "Ø³Ø±Ø¹Øª Ø±Ø§Ù‡â€ŒØ±ÙØªÙ†",
    Value = {
        Min = 50,
        Max = 500,
        Default = 50
    },
    Callback = function(value)
        local realValue = value / 50
        game.Players.LocalPlayer.Character:SetAttribute("SpeedMultiplier", realValue)
    end
})

local Jump = Practical:Slider({
    Title = "Ù‚Ø¯Ø±Øª Ù¾Ø±Ø´",
    Value = {
        Min = 50,
        Max = 500,
        Default = 50
    },
    Callback = function(value)
        game.Players.LocalPlayer.Character.Humanoid.JumpPower = value
    end
})

local TeleportTab = Window:Tab({
    Title = "ØªÙ„Ù¾ÙˆØ±Øª",
    Icon = "map-pin",
})

local selectedIslandCFrame = nil
local tpLoop = nil
local islandNames = {}
local islandObjects = {}

local function refreshIslandList()
    islandNames = {}
    islandObjects = {}
    local nameCount = {}
    
    local locs = workspace:FindFirstChild("_WorldOrigin") and workspace._WorldOrigin:FindFirstChild("Locations")
    if locs then
        for _, v in pairs(locs:GetChildren()) do
            if not v.Name:find("Sea") then
                local name = v.Name
                if nameCount[name] then
                    nameCount[name] = nameCount[name] + 1
                    name = name .. " " .. nameCount[name]
                else
                    nameCount[name] = 1
                end
                table.insert(islandNames, name)
                islandObjects[name] = v
            end
        end
    end
    table.sort(islandNames)
    return islandNames
end

refreshIslandList()

local function stopTeleport()
    if tpLoop then tpLoop:Disconnect() tpLoop = nil end
    
    local char = game.Players.LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    local hum = char and char:FindFirstChild("Humanoid")
    
    if hrp then
        hrp.Velocity = Vector3.new(0,0,0)
    end
    
    if hum then
        hum.PlatformStand = false
        hum:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
        hum:ChangeState(Enum.HumanoidStateType.GettingUp)
    end

    if char then
        for _, v in pairs(char:GetDescendants()) do
            if v:IsA("BasePart") then v.CanCollide = true end
        end
    end
end

local IslandDropdown = TeleportTab:Dropdown({
    Title = "Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§",
    Values = islandNames,
    Callback = function(selected)
        local target = islandObjects[selected]
        if target then
            selectedIslandCFrame = target.CFrame
        end
    end
})

local StartTP 
StartTP = TeleportTab:Toggle({
    Title = "Ø´Ø±ÙˆØ¹ ØªÙ„Ù¾ÙˆØ±Øª",
    Callback = function(state)
        _G.Teleporting = state
        
        if not state then
            stopTeleport()
        else
            if not selectedIslandCFrame then return end
            
            task.spawn(function()
                local lp = game.Players.LocalPlayer
                local char = lp.Character
                local hrp = char and char:FindFirstChild("HumanoidRootPart")
                local hum = char and char:FindFirstChild("Humanoid")
                
                if hrp and hum and _G.Teleporting then
                    hum.PlatformStand = true
                    hum:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
                    
                    local speed = 300
                    
                    tpLoop = game:GetService("RunService").Heartbeat:Connect(function()
                        if not _G.Teleporting or not char or not hrp.Parent then
                            stopTeleport()
                            return
                        end
                        
                        -- Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø¯ÙˆÙ† Ø§Ø±ØªÙØ§Ø¹ Ø§Ø¶Ø§ÙÛŒ
                        local targetPos = selectedIslandCFrame.Position
                        local currentPos = hrp.Position
                        local diff = targetPos - currentPos
                        local dist = diff.Magnitude
                        
                        -- Ù†ÙˆÚ©Ù„ÛŒÙ¾ Ø¨Ø±Ø§ÛŒ Ø±Ø¯ Ø´Ø¯Ù† Ø§Ø² Ù…ÙˆØ§Ù†Ø¹
                        for _, part in pairs(char:GetDescendants()) do
                            if part:IsA("BasePart") then part.CanCollide = false end
                        end
                        
                        if dist > 5 then
                            hrp.Velocity = diff.Unit * speed
                            -- Ù†Ú¯Ø§Ù‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø³Ù…Øª Ù…Ù‚ØµØ¯
                            hrp.CFrame = CFrame.new(currentPos, Vector3.new(targetPos.X, currentPos.Y, targetPos.Z))
                        else
                            -- ØªÙˆÙ‚Ù Ø¯Ø± Ù†Ù‚Ø·Ù‡ Ù…Ù‚ØµØ¯
                            hrp.Velocity = Vector3.new(0,0,0)
                            hrp.CFrame = selectedIslandCFrame
                        end
                    end)
                end
            end)
        end
    end
})

local RefreshBtn = TeleportTab:Button({
    Title = "Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù„ÛŒØ³Øª",
    Callback = function()
        local newList = refreshIslandList()
        IslandDropdown:SetValues(newList)
    end
})



local WaterPart = Instance.new("Part")
WaterPart.Size = Vector3.new(100, 0.5, 100)
WaterPart.Transparency = 1
WaterPart.Anchored = true
WaterPart.CanCollide = false
WaterPart.Parent = workspace

local function UpdateWaterWalk(value)
    _G.WaterWalk = value
    if value then
        task.spawn(function()
            while _G.WaterWalk do
                local char = game.Players.LocalPlayer.Character
                local hrp = char and char:FindFirstChild("HumanoidRootPart")
                local hum = char and char:FindFirstChild("Humanoid")
                
                if hrp and hum then
                    local waterLevel = -2
                    local currentY = hrp.Position.Y
                    
                    if currentY < waterLevel then
                        WaterPart.CanCollide = false
                        hrp.Velocity = Vector3.new(hrp.Velocity.X, 100, hrp.Velocity.Z)
                        hrp.CFrame = CFrame.new(hrp.Position.X, waterLevel + 0.5, hrp.Position.Z)
                    else
                        WaterPart.CanCollide = true
                        WaterPart.CFrame = CFrame.new(hrp.Position.X, -5, hrp.Position.Z)
                    end
                    
                    if hum:GetState() == Enum.HumanoidStateType.Swimming then
                        hum:ChangeState(Enum.HumanoidStateType.Running)
                    end
                end
                task.wait()
            end
            WaterPart.CanCollide = false
        end)
    else
        WaterPart.CanCollide = false
    end
end

local WaterWalk = Practical:Toggle({
    Title = "Ø±Ø§Ù‡â€ŒØ±ÙØªÙ† Ø±ÙˆÛŒ Ø¢Ø¨",
    Value = true,
    Callback = UpdateWaterWalk
})

if WaterWalk.Value then
    UpdateWaterWalk(true)
end

local Toggle = Practical:Toggle({
    Title = "Ø­Ù…Ù„Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø±",
    Callback = function(state)
        _G.FastAttack = state
        
        task.spawn(function()
            local lp = game.Players.LocalPlayer
            local ReplicatedStorage = game:GetService("ReplicatedStorage")
            
            -- ØªØ§Ø¨Ø¹ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø±ÛŒÙ…ÙˆØª Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ©
            local function findRemote(parent, keyword)
                if not parent then return nil end
                for _, v in pairs(parent:GetDescendants()) do
                    if (v:IsA("RemoteEvent") or v:IsA("RemoteFunction")) then
                        if v.Name:lower():find(keyword:lower()) then
                            return v
                        end
                    end
                end
                return nil
            end
            
            -- ØªØ§Ø¨Ø¹ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø±ÛŒÙ…ÙˆØª Ø¨Ø§ Ù…Ù†ÛŒØªÙˆØ± ØªØºÛŒÛŒØ±Ø§Øª
            local function getRemoteWithFallback()
                local Net = ReplicatedStorage:FindFirstChild("Modules") 
                    and ReplicatedStorage.Modules:FindFirstChild("Net")
                
                local RegisterAttack = findRemote(Net, "RegisterAttack")
                local RegisterHit = findRemote(Net, "RegisterHit")
                
                -- Ø§Ú¯Ø± remote Ø¹ÙˆØ¶ Ø´Ø¯Ù‡ØŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ø³Ú©Ù† Ú©Ù†
                local RemotesFolder = ReplicatedStorage:FindFirstChild("Remotes")
                local Remote874 = nil
                if RemotesFolder then
                    for _, v in pairs(RemotesFolder:GetChildren()) do
                        if v:IsA("RemoteEvent") then
                            -- Ø±ÛŒÙ…ÙˆØª ØµØ­ÛŒØ­ Ø±Ùˆ Ø¨Ø§ logging Ù¾ÛŒØ¯Ø§ Ú©Ù†
                            Remote874 = v  -- ÛŒØ§ ÙÛŒÙ„ØªØ± Ø®Ø§Øµâ€ŒØªØ± Ø¨Ø°Ø§Ø±
                        end
                    end
                end
                
                return RegisterAttack, RegisterHit, Remote874
            end
            
            local lastRemoteRefresh = 0
            local RegisterAttack, RegisterHit, Remote874
            
            while _G.FastAttack do
                pcall(function()
                    -- Ù‡Ø± 5 Ø«Ø§Ù†ÛŒÙ‡ remote Ù‡Ø§ Ø±Ùˆ refresh Ú©Ù†
                    if tick() - lastRemoteRefresh > 5 then
                        RegisterAttack, RegisterHit, Remote874 = getRemoteWithFallback()
                        lastRemoteRefresh = tick()
                    end
                    
                    local character = lp.Character
                    local root = character and character:FindFirstChild("HumanoidRootPart")
                    
                    if root and character:FindFirstChildOfClass("Tool") then
                        if RegisterAttack then 
                            RegisterAttack:FireServer(0.4) 
                        end
                        
                        local function DamageTarget(targetModel)
                            local targetRoot = targetModel:FindFirstChild("HumanoidRootPart") 
                                or targetModel:FindFirstChild("Head")
                            local humanoid = targetModel:FindFirstChild("Humanoid")
                            
                            if targetRoot and humanoid and humanoid.Health > 0 then
                                if (targetRoot.Position - root.Position).Magnitude < 60 then
                                    
                                    if RegisterHit then
                                        RegisterHit:FireServer(targetRoot, {}, nil, "694ba46d")
                                    end
                                    
                                    if Remote874 then
                                        local args = {
                                            [1] = "VA+VacmwpavLmp",
                                            [2] = 13064117,
                                            [3] = targetRoot,
                                            [4] = {},
                                            [6] = "869bada7"
                                        }
                                        Remote874:FireServer(unpack(args))
                                    end
                                end
                            end
                        end

                        for _, enemy in pairs(workspace.Enemies:GetChildren()) do
                            DamageTarget(enemy)
                        end

                        for _, player in pairs(game.Players:GetPlayers()) do
                            if player ~= lp and player.Character then
                                DamageTarget(player.Character)
                            end
                        end
                    end
                end)
                task.wait(0.1)
            end
        end)
    end
})


local EspTab = Window:Tab({
    Title = "ESP",
    Icon = "eye",
})



local function ManageESP(object, text, color, tag, state)
    local uiName = "ESP_" .. tag
    if state then

        if not object:FindFirstChild(uiName) then
            local billboard = Instance.new("BillboardGui")
            billboard.Name = uiName
            billboard.AlwaysOnTop = true
            billboard.Size = UDim2.new(0, 150, 0, 20)
            billboard.ExtentsOffsetWorldSpace = Vector3.new(0, 2, 0)
            billboard.Parent = object

            local label = Instance.new("TextLabel")            label.Parent = billboard
            label.BackgroundTransparency = 1
            label.Size = UDim2.new(1, 0, 1, 0)
            label.Text = text
            label.TextColor3 = color
            label.TextSize = 11
            label.Font = Enum.Font.RobotoMono
            label.TextStrokeTransparency = 0.5
            
            task.spawn(function()
                while object and object.Parent and billboard and billboard.Parent do
                    local char = game.Players.LocalPlayer.Character
                    if char and char:FindFirstChild("HumanoidRootPart") then
                        local dist = math.floor((object.Position - char.HumanoidRootPart.Position).Magnitude)
                        label.Text = string.format("%s [%dm]", text, dist)
                    end
                    task.wait(0.5)
                end
            end)
        end
    else
        if object:FindFirstChild(uiName) then
            object[uiName]:Destroy()
        end
    end
end

local function FullCleanup(tag)
    local name = "ESP_" .. tag
    for _, v in pairs(workspace:GetDescendants()) do
        if v.Name == name then v:Destroy() end
    end
end

-- Toggles in ESP Tab
local PlayerESP = EspTab:Toggle({
    Title = "ESP Players",
    Callback = function(state)
        _G.ESP_Players = state
        if not state then FullCleanup("Player") end
        task.spawn(function()
            while _G.ESP_Players do
                for _, p in pairs(game.Players:GetPlayers()) do
                    if p ~= game.Players.LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                        ManageESP(p.Character.HumanoidRootPart, p.Name, Color3.fromRGB(255, 100, 100), "Player", true)
                    end
                end
                task.wait(1)
            end
        end)
    end
})


local IslandESP = EspTab:Toggle({
    Title = "ESP Islands",
    Callback = function(state)
        _G.ESP_Islands = state
        if not state then FullCleanup("Island") end
        task.spawn(function()
            while _G.ESP_Islands do
                local locs = workspace:FindFirstChild("_WorldOrigin") and workspace._WorldOrigin:FindFirstChild("Locations")
                if locs then
                    for _, v in pairs(locs:GetChildren()) do
                        if not v.Name:find("Sea") then
                            ManageESP(v, v.Name, Color3.fromRGB(100, 255, 255), "Island", true)
                        end
                    end
                end
                task.wait(5)
            end
        end)
    end
})

local FruitESP = EspTab:Toggle({
    Title = "ESP Fruits",
    Callback = function(state)
        _G.ESP_Fruits = state
        
        if not state then 
            FullCleanup("Fruit") 
        else
            task.spawn(function()
                while _G.ESP_Fruits do
                    for _, v in pairs(workspace:GetChildren()) do
                        if not _G.ESP_Fruits then break end
                        
                        local isFruit = v.Name:find("Fruit") or v:FindFirstChild("Fruit")
                        local handle = v:IsA("Tool") and v:FindFirstChild("Handle") or v:IsA("Model") and v:FindFirstChildOfClass("BasePart")
                        
                        if isFruit and handle then
                            local fruitName = v.Name:gsub("Physical ", ""):gsub(" Fruit", "")
                            
                            if fruitName == "" or not fruitName then
                                fruitName = "Fruit"
                            end
                            
                            ManageESP(handle, "ğŸ " .. fruitName, Color3.fromRGB(100, 255, 100), "Fruit", true)
                        end
                    end
                    task.wait(0.1)
                end
            end)
        end
    end
})


local FruitTab = Window:Tab({
    Title = "Ù…ÛŒÙˆÙ‡",
    Icon = "banana",
})

-- Ù…ØªØºÛŒØ±Ù‡Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª ØªÙˆÙ‚Ù ÙÙˆØ±ÛŒ
local currentFruitTween
local currentBv
local currentNoclip

-- ØªØ§Ø¨Ø¹ÛŒ Ø¨Ø±Ø§ÛŒ ØªÙˆÙ‚Ù Ú©Ø§Ù…Ù„ ØªÙ„Ù¾ÙˆØ±Øª Ùˆ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† ÙÛŒØ²ÛŒÚ© Ú©Ø§Ø±Ø§Ú©ØªØ±
local function cancelFruitTeleport()
    if currentFruitTween then 
        currentFruitTween:Cancel() 
        currentFruitTween = nil 
    end
    if currentBv then 
        currentBv:Destroy() 
        currentBv = nil 
    end
    if currentNoclip then 
        currentNoclip:Disconnect() 
        currentNoclip = nil 
    end
    
    -- Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ø­Ø§Ù„Øª Ø¨Ø±Ø®ÙˆØ±Ø¯ Ú©Ø§Ø±Ø§Ú©ØªØ± (Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø§ÙØªØ§Ø¯Ù† Ø²ÛŒØ± Ù…Ù¾)
    local character = game.Players.LocalPlayer.Character
    if character then
        for _, part in pairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = true
            end
        end
    end
end

local function teleportToFruit(targetCFrame)
    local character = game.Players.LocalPlayer.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then return end
    
    local hrp = character.HumanoidRootPart
    local distance = (targetCFrame.Position - hrp.Position).Magnitude
    local speed = 250 -- Ø³Ø±Ø¹Øª ØªÙ„Ù¾ÙˆØ±Øª
    local duration = distance / speed

    cancelFruitTeleport() -- Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù‡Ø± ØªÙ„Ù¾ÙˆØ±Øª Ù‚Ø¨Ù„ÛŒ Ù‚Ø¨Ù„ Ø§Ø² Ø´Ø±ÙˆØ¹ Ù…Ø³ÛŒØ± Ø¬Ø¯ÛŒØ¯

    -- Ø«Ø§Ø¨Øª Ù†Ú¯Ù‡ Ø¯Ø§Ø´ØªÙ† Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¯Ø± Ù‡ÙˆØ§
    currentBv = Instance.new("BodyVelocity")
    currentBv.Velocity = Vector3.new(0, 0, 0)
    currentBv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
    currentBv.Parent = hrp

    -- Ø­Ø§Ù„Øª Noclip Ø¨Ø±Ø§ÛŒ Ø±Ø¯ Ø´Ø¯Ù† Ø§Ø² Ø¯ÛŒÙˆØ§Ø±Ù‡Ø§
    currentNoclip = game:GetService("RunService").Stepped:Connect(function()
        for _, part in pairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end)

    currentFruitTween = game:GetService("TweenService"):Create(hrp, TweenInfo.new(duration, Enum.EasingStyle.Linear), {CFrame = targetCFrame})
    currentFruitTween:Play()
    
    local reached = false
    currentFruitTween.Completed:Connect(function()
        reached = true
        if _G.AutoFruit then
            cancelFruitTeleport()
        end
    end)

    -- Ù…Ù†ØªØ¸Ø± Ù…Ø§Ù†Ø¯Ù† ØªØ§ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ù…Ù‚ØµØ¯ ÛŒØ§ Ø®Ø§Ù…ÙˆØ´ Ø´Ø¯Ù† ØªØ§Ú¯Ù„
    repeat task.wait(0.1) until reached or not _G.AutoFruit
    
    if not _G.AutoFruit then 
        cancelFruitTeleport()
    end
end

local AutoFruit = FruitTab:Toggle({
    Title = "ØªÙ„Ù¾ÙˆØ±Øª Ø¨Ù‡ Ù…ÛŒÙˆÙ‡â€ŒÙ‡Ø§",
    Callback = function(state)
        _G.AutoFruit = state
        
        if not state then
            -- ØªÙˆÙ‚Ù ÙÙˆØ±ÛŒ Ø¯Ø± ØµÙˆØ±Øª Ø®Ø§Ù…ÙˆØ´ Ø´Ø¯Ù† ØªØ§Ú¯Ù„
            cancelFruitTeleport()
        else
            task.spawn(function()
                while _G.AutoFruit do
                    for _, v in pairs(workspace:GetChildren()) do
                        if not _G.AutoFruit then break end
                        
                        -- Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù…ÛŒÙˆÙ‡
                        if (v:IsA("Tool") or v:IsA("Model")) and v.Name:find("Fruit") then
                            local handle = v:FindFirstChild("Handle") or v:FindFirstChildOfClass("BasePart")
                            
                            if handle then
                                teleportToFruit(handle.CFrame)
                                
                                -- Ø§Ú¯Ø± ÙˆØ³Ø· ØªÙ„Ù¾ÙˆØ±Øª Ø®Ø§Ù…ÙˆØ´ Ú©Ø±Ø¯ÛŒÙ… Ø¯ÛŒÚ¯Ù‡ Ø§Ø¯Ø§Ù…Ù‡ Ù†Ø¯Ù‡
                                if not _G.AutoFruit then break end
                                
                                -- ÛŒÚ© Ù…Ú©Ø« Ú©ÙˆØªØ§Ù‡ Ù†ÛŒÙ… Ø«Ø§Ù†ÛŒÙ‡â€ŒØ§ÛŒ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø§Ø²ÛŒ ÙˆÙ‚Øª Ú©Ù†Ù‡ Ù…ÛŒÙˆÙ‡ Ø±Ùˆ Ø¨Ø±Ø¯Ø§Ø±Ù‡
                                task.wait(0.5)
                            end
                        end
                    end
                    
                    -- ØªØ§ÛŒÙ…Ø± Ø·ÙˆÙ„Ø§Ù†ÛŒ Ø­Ø°Ù Ø´Ø¯. 
                    -- Ø§ÛŒÙ† Ù…Ú©Ø« 0.1 Ø«Ø§Ù†ÛŒÙ‡â€ŒØ§ÛŒ Ø­ÛŒØ§ØªÛŒ Ø§Ø³Øª ØªØ§ Ø¨Ø§Ø²ÛŒ Ø´Ù…Ø§ Ú©Ø±Ø´ Ù†Ú©Ù†Ø¯ Ùˆ ÙØ±ÛŒØ² Ù†Ø´ÙˆØ¯.
                    task.wait(0.1)
                end
            end)
        end
    end
})




-- [[ Ø¨Ø®Ø´ ÙØ§Ø±Ù… Ø¨Ø§Ø³ ]] --
local FarmTab = Window:Tab({
    Title = "ÙØ§Ø±Ù…",
    Icon = "swords", -- Ø¢ÛŒÚ©ÙˆÙ† Ø´Ù…Ø´ÛŒØ± Ø¨Ø±Ø§ÛŒ ÙØ§Ø±Ù…
})

local selectedBoss = nil
local bossLoop = nil
local bossNames = {}
local bossObjects = {}

-- ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¨Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø§Ø³Ù¾Ø§ÙˆÙ† Ø´Ø¯Ù‡ Ø¯Ø± Ù…Ù¾
local function refreshBossList()
    bossNames = {}
    bossObjects = {}
    
    -- Ø¯Ø± Ø¨Ù„ÙˆÚ©Ø³ ÙØ±ÙˆØª Ù…Ø¹Ù…ÙˆÙ„Ø§ Ø¨Ø§Ø³â€ŒÙ‡Ø§ Ø¯Ø± Enemies ÛŒØ§ Ù…Ù¾ Ù‡Ø³ØªÙ†Ø¯
    -- Ø§ÛŒÙ† Ú©Ø¯ Ù¾ÙˆØ´Ù‡ Ø¯Ø´Ù…Ù†Ø§Ù† Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Øª Ù‚ÙˆÛŒ Ú†Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if v:IsA("Model") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
            -- Ù…Ø¹Ù…ÙˆÙ„Ø§ Ø¨Ø§Ø³â€ŒÙ‡Ø§ Ù†Ø§Ù… Ø®Ø§Øµ ÛŒØ§ Ù„ÙˆÙ„ Ø¨Ø§Ù„Ø§ÛŒÛŒ Ø¯Ø§Ø±Ù†Ø¯
            local name = v.Name
            table.insert(bossNames, name)
            bossObjects[name] = v
        end
    end
    
    -- Ø§Ú¯Ø± Ø¨Ø§Ø³ÛŒ Ù†Ø¨ÙˆØ¯ ÛŒÚ© Ú¯Ø²ÛŒÙ†Ù‡ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡
    if #bossNames == 0 then table.insert(bossNames, "Ø¨Ø§Ø³ÛŒ Ø§Ø³Ù¾Ø§ÙˆÙ† Ù†ÛŒØ³Øª") end
    
    return bossNames
end

-- Û±. Ø¯Ø±Ø§Ù¾â€ŒØ¯Ø§ÙˆÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø³
local BossDropdown = FarmTab:Dropdown({
    Title = "Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø³ (Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ù…Ù¾)",
    Values = refreshBossList(),
    Callback = function(selected)
        selectedBoss = bossObjects[selected]
    end
})

-- Û². Ø¯Ú©Ù…Ù‡ Ø±ÙØ±Ø´ Ù„ÛŒØ³Øª Ø¨Ø§Ø³â€ŒÙ‡Ø§
FarmTab:Button({
    Title = "Ø¢Ù¾Ø¯ÛŒØª Ù„ÛŒØ³Øª Ø¨Ø§Ø³â€ŒÙ‡Ø§",
    Callback = function()
        local newList = refreshBossList()
        BossDropdown:SetValues(newList)
    end
})

-- Û³. ØªØ§Ú¯Ù„ Ø´Ø±ÙˆØ¹ ÙØ§Ø±Ù… (ØªÙ„Ù¾ÙˆØ±Øª Ø¨Ù‡ Ø¨Ø§Ø³)
local StartBossFarm
StartBossFarm = FarmTab:Toggle({
    Title = "Ø´Ø±ÙˆØ¹ ÙØ§Ø±Ù… Ø¨Ø§Ø³",
    Callback = function(state)
        _G.BossFarm = state
        
        if not state then
            -- ØªÙˆÙ‚Ù ØªÙ„Ù¾ÙˆØ±Øª
            if bossLoop then bossLoop:Disconnect() bossLoop = nil end
            local char = game.Players.LocalPlayer.Character
            if char and char:FindFirstChild("HumanoidRootPart") then
                char.HumanoidRootPart.Velocity = Vector3.new(0,0,0)
                for _, p in pairs(char:GetDescendants()) do
                    if p:IsA("BasePart") then p.CanCollide = true end
                end
            end
        else
            -- Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø³
            if not selectedBoss or not selectedBoss.Parent or not selectedBoss:FindFirstChild("HumanoidRootPart") then
                StartBossFarm:SetValue(false)
                return
            end
            
            task.spawn(function()
                local lp = game.Players.LocalPlayer
                local char = lp.Character
                local hrp = char and char:FindFirstChild("HumanoidRootPart")
                local hum = char and char:FindFirstChild("Humanoid")
                
                if hrp and hum and _G.BossFarm then
                    hum:ChangeState(Enum.HumanoidStateType.Physics)
                    
                    bossLoop = game:GetService("RunService").Heartbeat:Connect(function()
                        if not _G.BossFarm or not selectedBoss or not selectedBoss.Parent or selectedBoss.Humanoid.Health <= 0 then
                            if bossLoop then bossLoop:Disconnect() end
                            StartBossFarm:SetValue(false)
                            return
                        end
                        
                        -- Ù…Ø®ØªØµØ§Øª Ø¨Ø§Ø³ (Ú©Ù…ÛŒ Ø¨Ø§Ù„Ø§ØªØ± Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†ÛŒØª)
                        local targetPos = selectedBoss.HumanoidRootPart.Position + Vector3.new(0, 30, 0)
                        local dist = (targetPos - hrp.Position).Magnitude
                        
                        -- Ù†ÙˆÚ©Ù„ÛŒÙ¾
                        for _, part in pairs(char:GetDescendants()) do
                            if part:IsA("BasePart") then part.CanCollide = false end
                        end
                        
                        if dist > 10 then
                            hrp.Velocity = (targetPos - hrp.Position).Unit * 300
                            hrp.CFrame = CFrame.new(hrp.Position, targetPos)
                        else
                            -- ÙˆÙ‚ØªÛŒ Ø±Ø³ÛŒØ¯ÛŒÙ…ØŒ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ø¨Ø§Ù„Ø§ÛŒ Ø³Ø±Ø´ Ù†Ú¯Ù‡ Ø¯Ø§Ø±
                            hrp.Velocity = Vector3.new(0,0,0)
                            hrp.CFrame = CFrame.new(selectedBoss.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
                        end
                    end)
                end
            end)
        end
    end
})
